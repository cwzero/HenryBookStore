@using HenryBookStore.Models
@model ContactModel
@{
    ViewBag.Title = "Contact";
    List<SelectListItem> branches = new List<SelectListItem>();

    foreach (BRANCH branch in ViewBag.db.BRANCHes)
    {
        SelectListItem i = new SelectListItem();
        i.Text = branch.BRANCH_NAME;
        i.Value = branch.BRANCH_NUM.ToString();
        branches.Add(i);
    }
}

<h2>@ViewBag.Title.</h2>
<h3>@ViewBag.Message</h3>

@if (Model == null)
{

    <script src="@Url.Content("~/Scripts/jquery.unobtrusive-ajax.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Scripts/jquery.validate.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.js")" type="text/javascript"></script>

    using (Ajax.BeginForm(new AjaxOptions { UpdateTargetId = "result", HttpMethod = "Post" }))
    {
        <fieldset>
            <ul>
                <li>
                    @Html.LabelFor(x => x.FirstName)
                    @Html.ValidationMessageFor(x => x.FirstName)
                    @Html.EditorFor(x => x.FirstName)
                </li>
                <li>
                    @Html.LabelFor(x => x.LastName)
                    @Html.ValidationMessageFor(x => x.LastName)
                    @Html.EditorFor(x => x.LastName)
                </li>
                <li>
                    @Html.LabelFor(x => x.Email)
                    @Html.ValidationMessageFor(x => x.Email)
                    @Html.EditorFor(x => x.Email)
                </li>
                <li>
                    @Html.LabelFor(x => x.ConfirmEmail)
                    @Html.ValidationMessageFor(x => x.ConfirmEmail)
                    @Html.EditorFor(x => x.ConfirmEmail)
                </li>
                <li>
                    @Html.LabelFor(x => x.Location)
                    @Html.ValidationMessageFor(x => x.Location)
                    @Html.DropDownListFor(x => x.Location, branches)
                </li>
                <li>
                    @Html.LabelFor(x => x.Comments)
                    @Html.ValidationMessageFor(x => x.Comments)
                    @Html.TextAreaFor(x => x.Comments)
                </li>
                <li>
                    <input type="reset" value="Reset" />
                    <input type="submit" value="Save" />
                </li>
            </ul>
        </fieldset>
    }
}